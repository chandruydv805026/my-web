<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ratu Fresh ‚Äì ‡§∏‡§¨‡•ç‡§ú‡§º‡§ø‡§Ø‡§æ‡§Å ‡§Ü‡§™‡§ï‡•á ‡§¶‡§∞‡§µ‡§æ‡§ú‡§º‡•á ‡§§‡§ï</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #fffbe6, #fff);
      color: #333;
    }
    nav {
      background: linear-gradient(to right, #43cea2, #185a9d);
      padding: 16px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      flex-wrap: wrap;
    }
    .brand-tagline {
      font-size: 22px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }
    nav ul li a {
      color: white;
      text-decoration: none;
      font-weight: 500;
    }
    .hero {
      text-align: center;
      padding: 60px 20px 40px;
    }
    .hero h2 {
      font-size: 32px;
      margin-bottom: 20px;
    }
    .hero p {
      font-size: 18px;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
      padding: 2rem;
    }
    .card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 1rem;
      text-align: center;
    }
    .card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 8px;
    }
    .card h3 { margin: 0.5rem 0; }
    .card p { color: #555; }
    .card select {
      margin: 10px 0;
      padding: 6px;
      font-size: 16px;
    }
    .card button {
      background-color: #f5c842;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }
    footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #666;
      background-color: #eee;
    }
    #loginModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      margin: 100px auto;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .modal-content button {
      margin-top: 10px;
      padding: 10px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }
    .modal-content .login-btn { background: #43cea2; color: white; }
    .modal-content .cancel-btn { background: #ccc; }
  </style>

  

</head>
<body>

  <nav>
    <div class="brand-tagline">ü•¨ Ratu Fresh ‚Äì ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π</div>
    <ul>
      <li><a href="login.html">Login</a></li>
      <li><a href="signup.html">Signup</a></li>
    </ul>
  </nav>

  <div class="hero">
    <h2>‡§∏‡§¨‡•ç‡§ú‡§º‡§ø‡§Ø‡§æ‡§Å ‡§Ü‡§™‡§ï‡•á ‡§¶‡§∞‡§µ‡§æ‡§ú‡§º‡•á ‡§§‡§ï</h2>
    <p>‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§ï‡•Ä ‡§§‡§æ‡§ú‡§º‡§ó‡•Ä ‡§Ö‡§¨ Ratu ‡§Æ‡•á‡§Ç! ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§º‡§ø‡§Ø‡§æ‡§Å ‡§∏‡•Ä‡§ß‡•á ‡§ò‡§∞ ‡§™‡§∞ ‡§™‡§æ‡§è‡§Ç‡•§</p>
  </div>

  <section class="products" id="productContainer"></section>

  <footer>
    ¬© 2025 Chandan Yadav, Ratu Jharkhand. All rights reserved.
  </footer>

  <!-- ‚úÖ Login Modal -->
  <div id="loginModal">
    <div class="modal-content">
      <p>‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§Ü‡§™ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞ ‡§∏‡§ï‡•á‡§Ç‡•§</p>
      <button class="login-btn" onclick="goToLogin()">Login ‡§ï‡§∞‡•á‡§Ç</button>
      <button class="cancel-btn" onclick="closeModal()">Cancel</button>
    </div>
  </div>

  <!-- ‚úÖ JavaScript -->
  <script>
  const token = localStorage.getItem("token");
  const user = JSON.parse(localStorage.getItem("userData"));
  const isLoggedIn = token && user && user._id;

  // ‚úÖ Redirect to profile if already logged in
  window.onload = () => {
    if (isLoggedIn) {
      window.location.href = "profile.html"; // üîÅ Redirect to profile page
      return;
    }
    renderProducts();
    products.forEach(p => updatePrice(p.id, p.price));
  };


  const products = [
     { id: 'aloo', name: '‡§Ü‡§≤‡•Ç', price: 20, img: 'https://upload.wikimedia.org/wikipedia/commons/a/ab/Patates.jpg' },
  { id: 'tomato', name: '‡§ü‡§Æ‡§æ‡§ü‡§∞', price: 30, img: 'https://upload.wikimedia.org/wikipedia/commons/8/89/Tomato_je.jpg' },
  { id: 'onion', name: '‡§™‡•ç‡§Ø‡§æ‡§ú‡§º', price: 25, img: 'https://media.istockphoto.com/id/1181631588/photo/onions-for-sale-in-the-weekly-market-malkapur-maharashtra.webp?a=1&b=1&s=612x612&w=0&k=20&c=dzL0b1DNEWUehYWVqYzY9qE-ZK88KJgO6eY-etuQYoc=' },
  { id: 'bhindi', name: '‡§≠‡§ø‡§Ç‡§°‡•Ä', price: 35, img: 'https://media.istockphoto.com/id/1503362390/photo/okra-over-wooden-table-background-cut-okra-and-whole-ladys-finger.jpg?s=1024x1024&w=is&k=20&c=xYk1xHhyPEMiZzYxaBu5IMyqXK3qdrlCVVFh8Yy4GgM=' },
  { id: 'lauki', name: '‡§≤‡•å‡§ï‡•Ä', price: 18, img: 'https://media.istockphoto.com/id/1194258667/photo/bottle-gourd-for-sale-in-market.jpg?s=1024x1024&w=is&k=20&c=rmDr-KGaiUEaxCqaEQ6e_MakDj6klaXYE-StTySjPUM=' },
  { id: 'karela', name: '‡§ï‡§∞‡•á‡§≤‡§æ', price: 28, img: 'https://media.istockphoto.com/id/472402096/photo/top-view-of-green-bitter-gourds-in-the-basket.jpg?s=612x612&w=0&k=20&c=n7Ua0o7X4Qe_FSfl38ufHIPslxofgkyNpa2Z2NXmBfM=' },
  { id: 'gajar', name: '‡§ó‡§æ‡§ú‡§∞', price: 22, img: 'https://images.unsplash.com/photo-1633380110125-f6e685676160?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8Y2Fycm90fGVufDB8fDB8fHww&auto=format&fit=crop&q=60&w=600' },
  { id: 'mooli', name: '‡§Æ‡•Ç‡§≤‡•Ä', price: 15, img: 'https://media.istockphoto.com/id/903099876/photo/fresh-vegetable-for-sale-on-market-in-india.webp?a=1&b=1&s=612x612&w=0&k=20&c=9oElMWTKZOzIny5ND9MESWmEgG-ONAINWzQL8tSrF04=' },
  { id: 'baingan', name: '‡§¨‡•à‡§Ç‡§ó‡§®', price: 26, img: 'https://images.unsplash.com/photo-1613881553903-4543f5f2cac9?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8YnJpbmphbHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600' },
  { id: 'shimla', name: '‡§∂‡§ø‡§Æ‡§≤‡§æ ‡§Æ‡§ø‡§∞‡•ç‡§ö', price: 40, img: 'https://media.istockphoto.com/id/137350104/photo/green-peppers.webp?a=1&b=1&s=612x612&w=0&k=20&c=7u2DZpZoSZIWkSDyvAbxkvNU09BrvPdQCPzM4LcsxvU=' },
  { id: 'mirch', name: '‡§π‡§∞‡•Ä ‡§Æ‡§ø‡§∞‡•ç‡§ö', price: 45, img: 'https://media.istockphoto.com/id/942849220/photo/ripe-green-chilli-pepper.webp?a=1&b=1&s=612x612&w=0&k=20&c=qsUq5pSQ7j7T4O8UMEUiSgdSSt5DlKybwc7QS_o9Oao=' },
  { id: 'palak', name: '‡§™‡§æ‡§≤‡§ï', price: 20, img: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8U3BpbmFjaHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&q=60&w=600' },
  { id: 'methi', name: '‡§Æ‡•á‡§•‡•Ä', price: 22, img: 'https://media.istockphoto.com/id/153556198/photo/methi.webp?a=1&b=1&s=612x612&w=0&k=20&c=-wKqvG-vDYf-QVH8D3P2TAxMk-Eryd6haPNtsQBxGrk=' },
  { id: 'sarso', name: '‡§∏‡§∞‡§∏‡•ã‡§Ç', price: 24, img: 'https://media.istockphoto.com/id/641036946/photo/edible-mustard-leaves.webp?a=1&b=1&s=612x612&w=0&k=20&c=gIn92_8eHjFUDcWkN14jJL3ku7nhrnw5BtshSCdsW0c=' },
  { id: 'patta', name: '‡§™‡§§‡•ç‡§§‡§æ ‡§ó‡•ã‡§≠‡•Ä', price: 19, img: 'https://media.istockphoto.com/id/2225922723/photo/fresh-green-cabbages-in-a-market-basket.webp?a=1&b=1&s=612x612&w=0&k=20&c=CTgx7YR6b8cJq1jLs0UbelWSqN0dx9N4t3z7pk8b27U=' },
  { id: 'phool', name: '‡§´‡•Ç‡§≤ ‡§ó‡•ã‡§≠‡•Ä', price: 30, img:  'https://media.istockphoto.com/id/1372304664/photo/group-of-cauliflower-fresh-cauliflower-for-sale-at-a-market.webp?a=1&b=1&s=612x612&w=0&k=20&c=lEwN90TtHLVx-r3U9GRyRKmXKzfW4tdeUWRWAcOCX7k=' },
  { id: 'lemon', name: '‡§®‡•Ä‡§Ç‡§¨‡•Ç', price: 10, img: 'https://media.istockphoto.com/id/871706470/photo/group-of-fresh-lemon-on-an-old-vintage-wooden-table.webp?a=1&b=1&s=612x612&w=0&k=20&c=y-meMhMc9CK-Mtz8vM6JRaIOEeiXPcnbdsGca-KCogM=' },
  { id: 'lahsoon', name: '‡§≤‡§π‡§∏‡•Å‡§®', price: 21, img: 'https://media.istockphoto.com/id/531644839/photo/garlic.webp?a=1&b=1&s=612x612&w=0&k=20&c=kABuNBJXIiwWun2GETzq_Gn_u3M9MlxgTfBFLOZYrnU=' },
  { id: 'arbi', name: '‡§Ö‡§∞‡§¨‡•Ä', price: 27, img: 'https://media.istockphoto.com/id/1200642688/photo/eddoes.webp?a=1&b=1&s=612x612&w=0&k=20&c=HWw27eB0yUyGaP8SDrOktNkL8_Jj9kmBskf5wsZ9u8U=' },
  { id: 'chana', name: '‡§π‡§∞‡§æ ‡§ö‡§®‡§æ', price: 32, img: 'https://media.istockphoto.com/id/899854420/photo/fresh-green-chickpeas-or-chick-peas-also-known-as-harbara-or-harbhara-in-hindi-and-cicer-is.webp?a=1&b=1&s=612x612&w=0&k=20&c=B_zR-xU5c5WDsJTvZKJAq2MkTJwJ--autmPGFPPoQ3w=' }
];
function renderProducts() {
    const container = document.getElementById("productContainer");
    container.innerHTML = products.map(({ id, name, price, img }) => `
      <div class="card">
        <img src="${img}" alt="‡§§‡§æ‡§ú‡§º‡§æ ${name}" />
        <h3>${name}</h3>
        <p>‚Çπ${price} / ‡§ï‡§ø‡§≤‡•ã</p>
        <select id="qty-${id}" onchange="updatePrice('${id}', ${price})">
          ${[0.25, 0.5, 1, 2, 3, 4, 5].map(q => `<option value="${q}" ${q === 1 ? 'selected' : ''}>${q < 1 ? q * 1000 + 'g' : q + ' ‡§ï‡§ø‡§≤‡•ã'}</option>`).join('')}
        </select>
        <p id="price-${id}">‡§ï‡•Å‡§≤ ‡§ï‡•Ä‡§Æ‡§§: ‚Çπ${price}</p>
        <button onclick="addToCart('${name}', ${price}, 'qty-${id}')">Add to Cart</button>
      </div>
    `).join('');
  }

  function updatePrice(id, rate) {
    const qty = parseFloat(document.getElementById(`qty-${id}`).value);
    document.getElementById(`price-${id}`).textContent = `‡§ï‡•Å‡§≤ ‡§ï‡•Ä‡§Æ‡§§: ‚Çπ${Math.round(rate * qty)}`;
  }

  function addToCart(name, rate, qtyId) {
    if (!isLoggedIn) {
      document.getElementById("loginModal").style.display = "block";
      return;
    }
    const qty = parseFloat(document.getElementById(qtyId).value);
    alert(`${name} (${qty} ‡§ï‡§ø‡§≤‡•ã) ‡§ï‡•ã ‚Çπ${Math.round(rate * qty)} ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!`);
  }

  function closeModal() {
    document.getElementById("loginModal").style.display = "none";
  }

  function goToLogin() {
    window.location.href = "login.html";
  }
</script>
</body>
</html>
